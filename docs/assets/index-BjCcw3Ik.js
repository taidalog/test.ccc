(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Zt(e,t){return new Array(t)}function U(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Qt(e){return e!=null&&typeof e.GetEnumerator=="function"}function Yt(e){return e!=null&&typeof e.CompareTo=="function"}function en(e){return e!=null&&typeof e.Equals=="function"}function tn(e){return e!=null&&typeof e.GetHashCode=="function"}function nn(e){return e!=null&&typeof e.Dispose=="function"}function St(e){nn(e)&&e.Dispose()}function Pe(){return null}function Te(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class rn{constructor(t){this.iter=t,this.current=Pe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Z(e){return Qt(e)?e.GetEnumerator():new rn(e[Symbol.iterator]())}function _t(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}function z(e,t){return e.toString(10).padStart(t,"0")}function sn(e,t,n){return e.toString(10).padStart(t,"0").padEnd(n,"0")}function Ye(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}class W{static id(t){return W.idMap.has(t)||W.idMap.set(t,++W.count),W.idMap.get(t)}}W.idMap=new WeakMap;W.count=0;function Oe(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function Ne(e){return e*2654435761|0}function on(e){return Oe(e.toString(32))}function Ve(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function un(e){return e.getTime()}function an(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=re(e[r]);return Ve(n)}function re(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Ne(e);case"bigint":return on(e);case"string":return Oe(e);default:{if(tn(e))return e.GetHashCode();if(U(e))return an(e);if(e instanceof Date)return un(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>re(r));return Ve(n)}else return Ne(W.id(e))}}}function cn(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function It(e,t){return cn(e,t,se)}function ln(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!se(e[n[s]],t[r[s]]))return!1;return!0}function se(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:en(e)?e.Equals(t):U(e)?U(t)&&It(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Et(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&ln(e,t)}function Et(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Ye(e),r=t.getTime()+Ye(t)),n===r?0:n<r?-1:1}function fn(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Ct(e,t){return fn(e,t,be)}function dn(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=be(e[i],t[i]),o!==0)return o}return 0}function be(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:Yt(e)?e.CompareTo(t):U(e)?U(t)?Ct(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Et(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?dn(e,t):-1}function mn(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}class Q{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return re(this.value)}Equals(t){return t==null?!1:se(this.value,t instanceof Q?t.value:t)}CompareTo(t){return t==null?1:be(this.value,t instanceof Q?t.value:t)}}function k(e){if(e==null)throw new Error("Option has no value");return e instanceof Q?e.value:e}function gn(e){return e==null||e instanceof Q?new Q(e):e}function et(e,t){return e!=null?k(e):t}function hn(e,t){return t!=null?gn(e(k(t))):void 0}function wn(e){let t=0,n="[";for(const r of e){if(t===0)n+=_(r);else if(t===100){n+="; ...";break}else n+="; "+_(r);t++}return n+"]"}function _(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return wn(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([s,o])=>s+" = "+_(o,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function pn(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=_(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>_(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Se{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return pn(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>re(n));return t.splice(0,0,Ne(this.tag)),Ve(t)}Equals(t){return this===t?!0:Te(this,t)&&this.tag===t.tag?It(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Te(this,t)?this.tag===t.tag?Ct(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function yn(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function bn(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+_(n)).join(`
  `)+" }"}function Sn(e){const t=Object.values(e).map(n=>re(n));return Ve(t)}function _n(e,t){if(e===t)return!0;if(Te(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!se(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function In(e,t){if(e===t)return 0;if(Te(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=be(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class oe{toJSON(){return yn(this)}toString(){return bn(this)}GetHashCode(){return Sn(this)}Equals(t){return _n(this,t)}CompareTo(t){return In(this,t)}}const ze="Collection was empty.";function D(e,t,n){const r=t.length|0,s=Zt(n,r);for(let o=0;o<=r-1;o++)vt(s,o,e(_e(o,t)));return s}function kt(e){const t=e.length|0,n=new Array(t);for(let r=0;r<=t-1;r++)vt(n,r,[r,_e(r,e)]);return n}function En(e,t,n,r,s){const o=et(n,0)|0,i=et(hn(c=>o+c,r),e.length)|0;return(c=>{e:for(;;){const l=c;if(l>=i)return-1;if(s.Equals(t,_e(l,e)))return l|0;c=l+1;continue e}})(o)|0}function tt(e,t,n){return En(t,e,void 0,void 0,n)>=0}function nt(e){return e.slice().reverse()}function Cn(e,t,n){return t==null}function kn(e){if(e.length===0)throw new Error("The input array was empty\\nParameter name: array");return _e(0,e)}function vn(e){if(e.length===0)throw new Error("Not enough elements\\nParameter name: array");return e.slice(1)}function _e(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function vt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}const ie=Symbol("numeric");function An(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[ie])}function Bn(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Pn(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[ie]().multiply(t)}function Tn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[ie]().toFixed(t)}function rt(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[ie]().toPrecision(t)}function st(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[ie]().toExponential(t)}function ot(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[ie]().toHex()}function On(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+z(n,2)+":"+z(r,2)}function Ln(e,t){return new Date(e.getTime()+(e.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+On(e.offset??0)}function Mn(e,t){return e.kind===1?e.toUTCString():e.toLocaleString()}function Dn(e,t,n){return e.offset!=null?Ln(e):Mn(e)}function Le(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Me(){return Le(-621355968e5,1)}function C(){return Le(Date.now(),2)}function $n(e,t){const n=Le(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Le(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Vn(e,t){return typeof t=="number"?$n(e,-t):e.getTime()-t.getTime()}function me(e,t){return Vn(e,t)}function Hn(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function At(e,t,n,r=0){if(typeof e=="string"){const s=e;e=Hn(t,n??0),t=s,n=void 0}return t=t.substring(r),t.split(e,n)}const ce=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,le=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g;function Rn(e,t){return Bn(e,t)<0}function E(e){return{input:e,cont:jn(e)}}function ge(e,t){let n=0,r=0,s="";le.lastIndex=0;let o=le.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,a,c,l,m]=o;r=le.lastIndex,s+=Pt(t[n++],a,c,l,m),le.lastIndex=r-1,o=le.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function Bt(e,t){return typeof t=="string"?e(t):t.cont(e)}function b(e){return Bt(t=>console.log(t),e)}function V(e){return Bt(t=>t,e)}function Pt(e,t,n,r,s){let o="";if(t=t||"",s=s||"",An(e))switch(s.toLowerCase()!=="x"&&(Rn(e,0)?(e=Pn(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Tn(e,r);break;case"g":case"G":e=r!=null?rt(e,r):rt(e);break;case"e":case"E":e=r!=null?st(e,r):st(e);break;case"x":e=ot(e);break;case"X":e=ot(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Dn(e):e=_(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,a=t.indexOf("-")>=0,c=a||!i?" ":"0";c==="0"?(e=it(e,n-o.length,c,a),e=o+e):e=it(o+e,n,c,a)}return e}function Tt(e,t,n,r="",s=-1){return(...o)=>{let i=r;const a=t.slice(),c=n.slice();for(const l of o){const[,,m,d,w,R]=c[0];let O=d;if(s>=0)O=s,s=-1;else if(O==="*"){if(l<0)throw new Error("Non-negative number required");s=l;continue}i+=a[0],i+=Pt(l,m,O,w,R),a.splice(0,1),c.splice(0,1)}return c.length===0?(i+=a[0],e(i)):Tt(e,a,c,i,s)}}function jn(e){return t=>{ce.lastIndex=0;const n=[],r=[];let s=0,o=ce.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=ce.lastIndex,ce.lastIndex-=1,o=ce.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Tt(t,n,r))}}function Ot(e){return typeof e!="string"||/^\s*$/.test(e)}function ue(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function it(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Ie(e){return e<0?Math.ceil(e):Math.floor(e)}function Lt(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return Wn(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function Wn(e){return Number(BigInt(e)/10000n)}function Nn(e){return Ie(e/864e5)}function Mt(e){return Ie(e%864e5/36e5)}function Dt(e){return Ie(e%36e5/6e4)}function $t(e){return Ie(e%6e4/1e3)}function Vt(e){return Ie(e%1e3)}function ut(e,t="c",n){if(["c","g","G"].indexOf(t)===-1)throw new Error("Custom formats are not supported");const r=Math.abs(Nn(e)),s=Math.abs(Mt(e)),o=Math.abs(Dt(e)),i=Math.abs($t(e)),a=Math.abs(Vt(e));return`${e<0?"-":""}${r===0&&(t==="c"||t==="g")?"":t==="c"?r+".":r+":"}${t==="g"?s:z(s,2)}:${z(o,2)}:${z(i,2)}${a===0&&(t==="c"||t==="g")?"":t==="g"?"."+z(a,3):"."+sn(a,3,7)}`}class K extends oe{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+ue("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,a=o,c=i.tail,l=a.tail;if(c!=null)if(l!=null){const m=k(c),d=k(l);if(se(i.head,a.head)){s=m,o=d;continue e}else return!1}else return!1;else return l==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,a=s,c=o,l=c.tail;if(l!=null){const m=k(l);if(i>18)return a|0;r=i+1,s=(a<<1)+re(c.head)+631*i,o=m;continue e}else return a|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,a=o,c=i.tail,l=a.tail;if(c!=null)if(l!=null){const m=k(c),d=k(l),w=be(i.head,a.head)|0;if(w===0){s=m,o=d;continue e}else return w|0}else return 1;else return l!=null?-1:0}})(this,t)|0}GetEnumerator(){return Gn(this)}[Symbol.iterator](){return _t(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Z(this)}}class Fn{constructor(t){this.xs=t,this.it=this.xs,this.current=Pe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=k(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Pe()}Dispose(){}}function Gn(e){return new Fn(e)}function H(){return new K(Pe(),void 0)}function He(e,t){return new K(e,t)}function Xe(e){return e.tail==null}function qn(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=k(i);continue e}else return s|0}})(0,e)|0}function xn(e){if(e.tail!=null)return e.head;throw new Error(ze+"\\nParameter name: list")}function Ee(e){const t=e.tail;if(t!=null)return k(t);throw new Error(ze+"\\nParameter name: list")}function Y(){return H()}function Re(e,t){return He(e,t)}function Fe(e){return Xe(e)}function at(e){return qn(e)}function he(e){return xn(e)}function De(e){return Ee(e)}function J(e,t,n){let r=t,s=n;for(;!Xe(s);)r=e(r,he(s)),s=Ee(s);return r}function we(e){return J((t,n)=>He(n,t),H(),e)}function ct(e,t){J((n,r)=>{e(r)},void 0,t)}function Un(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=He(_e(r,e),n);return n}function pe(e){return Un(e,H())}function Kn(e){let t,n;if(U(e))return pe(e);if(e instanceof K)return e;{const r=H();let s=r;const o=Z(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new K(c,void 0),t.tail=n,n)}}finally{St(o)}const i=s,a=H();return i.tail=a,Ee(r)}}function lt(e,t){return J((n,r)=>He(r,n),t,we(e))}function ae(e,t){const n=H(),r=J((o,i)=>{const a=new K(e(i),void 0);return o.tail=a,a},n,t),s=H();return r.tail=s,Ee(n)}function Jn(e,t){let n,r;const s=H();let o=s;for(let c=0;c<=e-1;c++)o=(n=o,r=new K(t(c),void 0),n.tail=r,r);const i=o,a=H();return i.tail=a,Ee(s)}function zn(e,t){return Jn(e,n=>t)}function Ht(e,t){if(Xe(t))throw new Error(ze);return J(e,he(t),De(t))}class G extends oe{constructor(t,n,r,s,o,i){super(),this.Duration=t,this.Color=n,this.Background=r,this.Message=s,this.ShouldPause=o,this.Alarm=i}}class q extends oe{constructor(t,n,r,s,o,i){super(),this.Duration=t,this.Color=n,this.Background=r,this.Message=s,this.ShouldPause=o,this.Alarm=i}}class ee extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Down","Up"]}toString(){const t=this;if(t.tag===1){const n=t.fields[0];return V(ge("Countup for %s%P(), color: %s%P(); background-color: %s%P(); message: %s%P(); ShouldPause: %b%P(); Alarm: %s%P()",[ut(n.Duration),n.Color,n.Background,n.Message,n.ShouldPause,n.Alarm]))}else{const n=t.fields[0];return V(ge("Countdown for %s%P(), color: %s%P(); background-color: %s%P(); message: %s%P(); ShouldPause: %b%P(); Alarm: %s%P()",[ut(n.Duration),n.Color,n.Background,n.Message,n.ShouldPause,n.Alarm]))}}}function ft(e){return e.tag===1,e.fields[0].Duration}function Xn(e){return e.tag===1,e.fields[0].Color}function Zn(e){return e.tag===1,e.fields[0].Background}function Qn(e){return e.tag===1,e.fields[0].Message}function dt(e){return e.tag===1,e.fields[0].ShouldPause}function mt(e){return e.tag===1,e.fields[0].Alarm}const x=new G(0,"","","",!1,""),fe=new q(0,"","","",!1,"");function gt(e,t){if(e.tag===1){const n=e.fields[0];return new ee(1,[t.tag===1?new q(n.Duration,n.Color,t.fields[0],n.Message,n.ShouldPause,n.Alarm):t.tag===2?new q(n.Duration,n.Color,n.Background,t.fields[0],n.ShouldPause,n.Alarm):t.tag===3?new q(n.Duration,n.Color,n.Background,n.Message,t.fields[0],n.Alarm):t.tag===4?new q(n.Duration,n.Color,n.Background,n.Message,n.ShouldPause,t.fields[0]):new q(n.Duration,t.fields[0],n.Background,n.Message,n.ShouldPause,n.Alarm)])}else{const n=e.fields[0];return new ee(0,[t.tag===1?new G(n.Duration,n.Color,t.fields[0],n.Message,n.ShouldPause,n.Alarm):t.tag===2?new G(n.Duration,n.Color,n.Background,t.fields[0],n.ShouldPause,n.Alarm):t.tag===3?new G(n.Duration,n.Color,n.Background,n.Message,t.fields[0],n.Alarm):t.tag===4?new G(n.Duration,n.Color,n.Background,n.Message,n.ShouldPause,t.fields[0]):new G(n.Duration,t.fields[0],n.Background,n.Message,n.ShouldPause,n.Alarm)])}}function Ge(e){return e.tag===0?J(gt,new ee(1,[new q(e.fields[0],fe.Color,fe.Background,fe.Message,fe.ShouldPause,fe.Alarm)]),e.fields[1]):J(gt,new ee(0,[new G(e.fields[0],x.Color,x.Background,x.Message,x.ShouldPause,x.Alarm)]),e.fields[1])}class f extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}let I=class extends Se{constructor(t,n){super(),this.tag=0,this.fields=[t,n]}cases(){return["State"]}};const Ze="Input was empty.",je="Position exceeded input length.",Yn="Parsing failed.",er="Argument was invalid.";function te(e){return t=>{const n=t.fields[0],r=t.fields[1]|0,s=n.length|0;return s===0?new f(1,[[Ze,new I(n,r)]]):r>=s?new f(1,[[je,new I(n,r)]]):n[r]===e?new f(0,[[e,new I(n,r+1)]]):new f(1,[[Yn,new I(n,r)]])}}function y(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new f(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1]]]):new f(1,[[s.fields[0][0],n]])}else return new f(1,[[r.fields[0][0],n]])}}function B(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new f(0,[[r.fields[0][0],s.fields[0][1]]]):new f(1,[[s.fields[0][0],n]])}else return new f(1,[[r.fields[0][0],n]])}}function $(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new f(0,[[s.fields[0][0],s.fields[0][1]]]):new f(1,[[s.fields[0][0],n]])}else return new f(1,[[r.fields[0][0],n]])}}function g(e,t){return n=>{const r=e(n);if(r.tag===1){const s=t(n);return s.tag===1?new f(1,[s.fields[0]]):new f(0,[s.fields[0]])}else return new f(0,[r.fields[0]])}}function Ce(e){return t=>((r,s)=>{e:for(;;){const o=r,a=e(s);if(a.tag===0){r=Re(a.fields[0][0],o),s=a.fields[0][1];continue e}else return new f(0,[[we(o),a.fields[0][1]]])}})(Y(),t)}function tr(e,t,n){e:for(;;){const r=e,s=t,o=n;if(Fe(o))return new f(0,[[we(s),r]]);{const i=he(o)(r);if(i.tag===0){e=i.fields[0][1],t=Re(i.fields[0][0],s),n=De(o);continue e}else return new f(1,[i.fields[0]])}}}function nr(e,t){return n=>{const r=tr(n,Y(),zn(e,t));return r.tag===1?new f(1,[[r.fields[0][0],n]]):new f(0,[r.fields[0]])}}function v(e,t){return n=>{const r=t(n);return r.tag===1?new f(1,[r.fields[0]]):new f(0,[[e(r.fields[0][0]),r.fields[0][1]]])}}function p(e){return t=>{const n=t.fields[0],r=t.fields[1]|0,s=n.length|0,o=e.length|0;return s===0?new f(1,[[Ze,new I(n,r)]]):r>=s?new f(1,[[je,new I(n,r)]]):o===0?new f(1,[[er,new I(n,r)]]):n.slice(r,r+o-1+1)===e?new f(0,[[e,new I(n,r+o)]]):new f(1,[["Parsing failed.",new I(n,r)]])}}const N=e=>{const t=e.fields[0],n=e.fields[1]|0,r=t.length|0;return n>r?new f(1,[[je,new I(t,n)]]):n===r?new f(0,[[void 0,new I(t,n)]]):new f(1,[["Parsing failed.",new I(t,n)]])};function ne(e){return t=>e(t).tag===1?new f(1,[["Parsing failed.",t]]):new f(0,[[void 0,t]])}function ht(e){return t=>e(t).tag===1?new f(0,[[void 0,t]]):new f(1,[["Parsing failed.",t]])}const wt=e=>{const t=e.fields[0],n=e.fields[1]|0,r=t.length|0;return r===0?new f(1,[[Ze,new I(t,n)]]):n>=r?new f(1,[[je,new I(t,n)]]):new f(0,[[t[n],new I(t,n+1)]])},rr="Enumeration has not started. Call MoveNext.",sr="Reset is not supported on this enumerator.";function or(){throw new Error(sr)}function ir(){throw new Error(rr)}class ur{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=Z(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+_(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{St(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return _t(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function ar(e){return new ur(e)}class cr{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){or()}Dispose(){this.dispose()}}function lr(e,t,n){return new cr(e,t,n)}function fr(e,t){let n,r=t;return lr(()=>{if(n!=null){const s=k(n)[0];return k(n)[1],s}else return ir()},()=>(n=e(r),n!=null?(k(n)[0],r=k(n)[1],!0):!1),()=>{})}function Rt(e){return ar(e)}function dr(e){return Rt(()=>Z(e()))}function mr(e,t){return Rt(()=>fr(e,t))}function Ae(e){return U(e)?pe(e):e instanceof K?e:Kn(e)}function Be(e,t){const n=~~t.charCodeAt(0)|0;return dr(()=>mr(r=>{if(r<=n)return[String.fromCharCode(r),r+1]},~~e.charCodeAt(0)))}var qe;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(qe||(qe={}));function gr(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function pt(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function hr(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function wr(e,t){if(t&qe.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function pr(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||wr(o,t),!hr(n).test(i))return gr(s,n)}return null}function jt(e,t,n,r,s){const o=pr(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[a,c]=pt(!0,r);o.radix!==10&&i>=a&&i<=c&&(i=i<<32-r>>32-r);const[l,m]=pt(n,r);if(i>=l&&i<=m)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}class ke extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Color","Background","Message","ShouldPause","Alarm"]}}class Wt extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Up","Down"]}}function yr(e){return v(t=>Re(t[0],t[1]),y(e,Ce(e)))}const xe=Ht(g,ae(te,Ae(Be("0","9")))),br=Ht(g,ae(te,lt(Ae(Be("0","9")),lt(Ae(Be("A","F")),Ae(Be("a","f")))))),$e=v(e=>jt(V(E("%c%c"))(e[0])(e[1]),511,!1,32),y(xe,xe)),Sr=v(e=>jt(e,511,!1,32),xe),Nt=g($e,Sr),S=v(e=>ue("",ae(t=>t,e)),yr(te(" "))),_r=v(e=>Lt(0,e[0],e[1]),y(B(Nt,p(":")),$e)),Ir=v(e=>{const t=e[0];return Lt(t[0],t[1],e[1])},y(B(y(B(Nt,te(":")),$e),te(":")),$e)),Ft=g(Ir,_r),Gt=v(e=>{const t=ue("",ae(_,e[1]));return V(E("%c%s"))(e[0])(t)},y(te("#"),nr(6,br))),Er=v(e=>new ke(0,[e]),B($(y(g(p("--color"),p("-c")),S),Gt),g(ne(S),N))),Cr=v(e=>new ke(1,[e]),B($(y(g(p("--background"),p("-bg")),S),Gt),g(ne(S),N))),kr=(()=>{const e=g(p("--message"),p("-m"));let t;const n=g(g(g(g(g(p("--color"),p("-c")),p("--background")),p("-bg")),p("--pause")),p("-p")),r=y(ht(y(S,n)),ht(N)),s=g(ne(y(S,n)),ne(N));return t=y(Ce(B(wt,r)),B(wt,s)),v(o=>{let i;return new ke(2,[(i=ue("",ae(_,we(Re(o[1],we(o[0]))))),i.trim())])},$(y(e,S),t))})(),vr=v(e=>new ke(3,[!0]),B(g(p("--pause"),p("-p")),g(ne(S),N))),Ar=v(e=>new ke(4,[e]),B($(y(g(p("--alarm"),p("-a")),S),g(p("bell"),p("beep"))),g(ne(S),N))),qt=Ce(g(g(g(g($(S,Er),$(S,Cr)),$(S,kr)),$(S,vr)),$(S,Ar))),Br=v(e=>new Wt(1,[e[0][1],e[1]]),B(y(y(B(p("down"),S),Ft),qt),y(Ce(S),N))),Pr=v(e=>new Wt(0,[e[0][1],e[1]]),B(y(y(B(p("up"),S),Ft),qt),y(Ce(S),N))),xt=g(Br,Pr);class Tr{constructor(){}}function Or(){return new Tr}function Lr(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function Mr(e,t){return t.then(n=>n)}const yt=Or();function Ut(){return"wakeLock"in navigator}function Kt(){return Mr(yt,Lr(yt,()=>navigator.wakeLock.request("screen").then(e=>Promise.resolve(e))))}function Ue(e){e.then(t=>t.release())}class T extends oe{constructor(t,n){super(),this.StartTime=t,this.Acc=n}}class de extends oe{constructor(t,n){super(),this.Input=t,this.Remaining=n}}class P extends oe{constructor(t,n,r,s,o,i){super(),this.Stop=t,this.Current=n,this.IntervalId=r|0,this.Commands=s,this.WakeLock=o,this.RunningStatus=i|0}}let u=mn(new P(new T(Me(),0),new T(Me(),0),-1,new de(Y(),Y()),void 0,0));const Jt=new P(new T(Me(),0),new T(Me(),0),-1,new de(Y(),Y()),void 0,0);function X(e){return V(ge('%02d%P():%02d%P():%02d%P()<span class="decimals">.%03d%P()</span>',[Mt(e),Dt(e),$t(e),Vt(e)]))}function bt(e,t,n,r){const s=me(r,t)+n;return e.tag===1?s:e.fields[0].Duration-s}function zt(e){return D(n=>n.trim(),At(e,"(?=down \\d|up \\d)")).filter(n=>!Ot(n))}function Xt(e){return xt(new I(e,0))}function Dr(e){const t=D(Xt,zt(e));return t.some(n=>n.tag===1)?new f(1,[t]):new f(0,[t])}function ye(){if(u().RunningStatus===1){clearInterval(u().IntervalId);const e=C();u(new P(new T(u().Stop.StartTime,u().Stop.Acc+me(e,u().Stop.StartTime)),new T(u().Current.StartTime,u().Current.Acc+me(e,u().Current.StartTime)),u().IntervalId,u().Commands,u().WakeLock,2))}}function Ke(){let e,t,n,r,s;switch(u().RunningStatus|0){case 0:case 4:{document.getElementById("timerArea").classList.remove("finished"),document.getElementById("messageArea").classList.remove("finished");const i=Dr(document.getElementById("commandInput").value);if(i.tag===0){document.getElementById("validationArea").innerHTML="";const a=pe(D(d=>d.tag===1?new ee(0,[x]):Ge(d.fields[0][0]),i.fields[0]));u(new P(new T(C(),0),new T(C(),0),Jt.IntervalId,new de(a,a),Ut()?(b(`locking at ${e=C(),_(e)}`),(()=>{try{return Kt()}catch{return}})()):(b(E("failed to lock...")),void 0),1));const c=document.getElementById("outputArea"),l=u().WakeLock;l==null?(b(E("failed to lock ....")),c.innerText=""):l.released||(b(`locked at ${t=C(),_(t)}`),c.innerText="画面起動ロック API により、タイマー動作中は画面がスリープしません。");const m=setInterval(()=>{let d,w,R;const O=u().Commands.Remaining;if(Fe(O)){document.getElementById("timerArea").classList.add("finished"),document.getElementById("messageArea").classList.add("finished");const A=u().WakeLock;if(A==null)b(E("doing nothing..."));else{const h=A;b(`releasing at ${R=C(),_(R)}`),Ue(h)}u(new P(u().Stop,u().Current,u().IntervalId,u().Commands,void 0,4)),document.getElementById("outputArea").innerText="",clearInterval(u().IntervalId)}else{const A=De(O),h=he(O),j=C();if(me(j,u().Current.StartTime)+u().Current.Acc>ft(h)){u((d=new de(u().Commands.Input,A),w=new T(j,0),new P(u().Stop,w,u().IntervalId,d,u().WakeLock,u().RunningStatus)));const F=u().Commands.Remaining;b(E("%A"))(F);const M=X(h.tag===1?h.fields[0].Duration:0);document.getElementById("timerArea").innerHTML=M;const L=mt(h);let ve,We;switch(L){case"bell":{ve=0,We=L;break}case"beep":{ve=0,We=L;break}default:ve=1}switch(ve){case 0:{const Qe=document.getElementById(We);Qe.currentTime=0,Qe.play();break}}dt(h)&&at(A)>0&&ye()}else{const F=bt(h,u().Current.StartTime,u().Current.Acc,j);document.getElementById("timerArea").innerHTML=X(F);let M;if(h.tag===1){const L=h.fields[0];M=[L.Color,L.Background,L.Message]}else{const L=h.fields[0];M=[L.Color,L.Background,L.Message]}document.body.setAttribute("style",V(E("color: %s; background-color: %s;"))(M[0])(M[1])),document.getElementById("messageArea").innerText=M[2]}}},10)|0;u(new P(u().Stop,u().Current,m,u().Commands,u().WakeLock,u().RunningStatus))}else{const a="以下のコマンドに誤りがあります。<br>"+ue("<br>",D(c=>{const l=c[1];return l.tag===0?"":V(ge("%d%P() つ目: %s%P()",[c[0]+1,l.fields[0][1].fields[0]]))},(n=kt(i.fields[0]),n.filter(c=>c[1].tag!==0))));b(E("%s"))(a),document.getElementById("validationArea").innerHTML=a}break}case 2:{u(new P((r=u().Stop,new T(C(),r.Acc)),(s=u().Current,new T(C(),s.Acc)),u().IntervalId,u().Commands,u().WakeLock,1));const i=setInterval(()=>{let a,c,l;const m=u().Commands.Remaining;if(Fe(m)){document.getElementById("timerArea").classList.add("finished"),document.getElementById("messageArea").classList.add("finished");const d=u().WakeLock;if(d==null)b(E("doing nothing..."));else{const w=d;b(`releasing at ${l=C(),_(l)}`),Ue(w)}u(new P(u().Stop,u().Current,u().IntervalId,u().Commands,void 0,4)),document.getElementById("outputArea").innerText="",clearInterval(u().IntervalId)}else{const d=De(m),w=he(m),R=C();if(me(R,u().Current.StartTime)+u().Current.Acc>ft(w)){u((a=new de(u().Commands.Input,d),c=new T(R,0),new P(u().Stop,c,u().IntervalId,a,u().WakeLock,u().RunningStatus)));const O=u().Commands.Remaining;b(E("%A"))(O);const A=X(w.tag===1?w.fields[0].Duration:0);document.getElementById("timerArea").innerHTML=A;const h=mt(w);let j,F;switch(h){case"bell":{j=0,F=h;break}case"beep":{j=0,F=h;break}default:j=1}switch(j){case 0:{const M=document.getElementById(F);M.currentTime=0,M.play();break}}dt(w)&&at(d)>0&&ye()}else{const O=bt(w,u().Current.StartTime,u().Current.Acc,R);document.getElementById("timerArea").innerHTML=X(O);let A;if(w.tag===1){const h=w.fields[0];A=[h.Color,h.Background,h.Message]}else{const h=w.fields[0];A=[h.Color,h.Background,h.Message]}document.body.setAttribute("style",V(E("color: %s; background-color: %s;"))(A[0])(A[1])),document.getElementById("messageArea").innerText=A[2]}}},10)|0;u(new P(u().Stop,u().Current,i,u().Commands,u().WakeLock,u().RunningStatus));break}}}function Je(e){let t;switch(u().RunningStatus|0){case 1:{ye();break}case 2:case 4:{document.getElementById("timerArea").classList.remove("finished"),document.getElementById("messageArea").classList.remove("finished"),document.getElementById("timerArea").innerText="",document.getElementById("messageArea").innerText="",document.body.removeAttribute("style");const r=u().WakeLock;if(r==null)b(E("doing nothing..."));else{const s=r;b(`releasing at ${t=C(),_(t)}`),Ue(s)}u(Jt),document.getElementById("outputArea").innerText="";break}}}document.addEventListener("visibilitychange",e=>{let t,n;switch(u().RunningStatus|0){case 1:case 2:{if(Ut()){u((t=(()=>{let i;try{return b(`locking at ${i=C(),_(i)}`),Kt()}catch{return}})(),new P(u().Stop,u().Current,u().IntervalId,u().Commands,t,u().RunningStatus)));const s=document.getElementById("outputArea"),o=u().WakeLock;o==null?(b(E("failed to lock ....")),s.innerText=""):o.released||(b(`locked at ${n=C(),_(n)}`),s.innerText="画面起動ロック API により、タイマー動作中は画面がスリープしません。")}break}}});function $r(e){return nt(vn(nt(e)))}function Vr(e){if(!(!Cn(se,e)&&e.length===0))return $r(e)}function Hr(e){let t,n;if(document.activeElement.id==="commandInput")e.key==="Escape"&&document.getElementById("commandInput").blur();else{const r=document.getElementById("helpWindow"),s=tt("active",(t=r.classList,Array.from(t)),{Equals:(c,l)=>c===l,GetHashCode:Oe}),o=document.getElementById("informationPolicyWindow"),i=tt("active",(n=o.classList,Array.from(n)),{Equals:(c,l)=>c===l,GetHashCode:Oe});switch(e.key){case"Escape":{s&&r.classList.remove("active"),i&&o.classList.remove("active"),!s&&!i&&ye();break}case"Enter":{Ke();break}case"Delete":{Je();break}case"Backspace":{e.altKey&&Je();break}case"?":{s||r.classList.add("active");break}case"\\":{document.getElementById("commandInput").focus(),e.preventDefault();break}}}}window.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("commandInput");t.oninput=i=>{let a;t.value===""&&(document.getElementById("validationArea").innerHTML="",document.body.setAttribute("style",'color: ""; background-color: "";'),document.getElementById("messageArea").innerText="",document.getElementById("timerArea").innerHTML="");const c=D(Xt,zt(t.value));if(c.every(l=>l.tag!==1)){document.getElementById("validationArea").innerHTML="";const l=kn(c);if(l.tag!==1){const m=Ge(l.fields[0][0]);document.body.setAttribute("style",`color: ${Xn(m)}; background-color: ${Zn(m)};`),document.getElementById("messageArea").innerText=Qn(m),m.tag===1?document.getElementById("timerArea").innerHTML=X(0):document.getElementById("timerArea").innerHTML=X(m.fields[0].Duration)}}else if(c.length>1){const l=Vr(c);if(l!=null){const m="以下のコマンドに誤りがあります。<br>"+ue("<br>",D(d=>{const w=d[1];return w.tag===0?"":V(ge("%d%P() つ目: %s%P()",[d[0]+1,w.fields[0][1].fields[0]]))},(a=kt(l),a.filter(d=>d[1].tag!==0))));b(E("%s"))(m),document.getElementById("validationArea").innerHTML=m}}},document.getElementById("inputArea").onsubmit=i=>{let a,c;i.preventDefault(),t.blur();const l=D(xt,D(d=>new I(d,0),(a=D(d=>d.trim(),At(t.value,"(?=down \\d|up \\d)")),a.filter(d=>!Ot(d)))));l.some(d=>d.tag===1)&&b(E("Input was invalid."));const m=ae(_,pe(D(d=>d.tag===1?new ee(0,[x]):Ge(d.fields[0][0]),l)));ct((c=b(E("%s")),d=>{c(d)}),m),Ke()};const n=document.getElementById("startButton");n.title="開始 (Enter)",n.onclick=i=>{Ke()};const r=document.getElementById("pauseButton");r.title="一時停止 (Escape)",r.onclick=i=>{ye()};const s=document.getElementById("stopButton");s.title="停止 (Delete)",s.onclick=i=>{Je()};const o=document.getElementById("helpButton");o.title="ヘルプ (?)",ct(i=>{document.getElementById(i).onclick=a=>{document.getElementById("helpWindow").classList.toggle("active")}},pe(["helpButton","helpClose"])),document.getElementById("informationPolicyLink").onclick=i=>{i.preventDefault(),document.getElementById("informationPolicyWindow").classList.add("active")},document.getElementById("informationPolicyClose").onclick=i=>{document.getElementById("informationPolicyWindow").classList.remove("active")},document.onkeydown=i=>{Hr(i)}});
